(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30],{57838:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(97685),i=n(67294);function r(){var e=i.useReducer(function(e){return e+1},0);return(0,a.Z)(e,2)[1]}},24308:function(e,t,n){"use strict";n.d(t,{c4:function(){return r}});var a=n(4942),i=n(87462),r=["xxl","xl","lg","md","sm","xs"],l={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},s=new Map,o=-1,c={};t.ZP={matchHandlers:{},dispatch:function(e){return c=e,s.forEach(function(e){return e(c)}),s.size>=1},subscribe:function(e){return s.size||this.register(),o+=1,s.set(o,e),e(c),o},unsubscribe:function(e){s.delete(e),s.size||this.unregister()},unregister:function(){var e=this;Object.keys(l).forEach(function(t){var n=l[t],a=e.matchHandlers[n];null==a||a.mql.removeListener(null==a?void 0:a.listener)}),s.clear()},register:function(){var e=this;Object.keys(l).forEach(function(t){var n=l[t],r=function(n){var r=n.matches;e.dispatch((0,i.Z)((0,i.Z)({},c),(0,a.Z)({},t,r)))},s=window.matchMedia(n);s.addListener(r),e.matchHandlers[n]={mql:s,listener:r},r(s)})}}},25378:function(e,t,n){"use strict";var a=n(67294),i=n(57838),r=n(24308);t.Z=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,a.useRef)({}),n=(0,i.Z)();return(0,a.useEffect)(function(){var a=r.ZP.subscribe(function(a){t.current=a,e&&n()});return function(){return r.ZP.unsubscribe(a)}},[]),t.current}},97183:function(e,t,n){"use strict";var a=n(2897),i=n(7293),r=a.ZP;r.Header=a.h4,r.Footer=a.$_,r.Content=a.VY,r.Sider=i.Z,t.Z=r},11382:function(e,t,n){"use strict";var a=n(87462),i=n(4942),r=n(97685),l=n(94184),s=n.n(l),o=n(23279),c=n.n(o),u=n(98423),d=n(67294),f=n(53124),m=n(96159),p=n(93355),h=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,a=Object.getOwnPropertySymbols(e);i<a.length;i++)0>t.indexOf(a[i])&&Object.prototype.propertyIsEnumerable.call(e,a[i])&&(n[a[i]]=e[a[i]]);return n};(0,p.b)("small","default","large");var v=null,x=function(e){var t=e.spinPrefixCls,n=e.spinning,l=void 0===n||n,o=e.delay,p=e.className,x=e.size,j=void 0===x?"default":x,b=e.tip,g=e.wrapperClassName,N=e.style,y=e.children,Z=h(e,["spinPrefixCls","spinning","delay","className","size","tip","wrapperClassName","style","children"]),w=d.useState(function(){return l&&(!l||!o||!!isNaN(Number(o)))}),E=(0,r.Z)(w,2),k=E[0],O=E[1];return d.useEffect(function(){var e=c()(function(){O(l)},o);return e(),function(){var t;null===(t=null==e?void 0:e.cancel)||void 0===t||t.call(e)}},[o,l]),d.createElement(f.C,null,function(n){var r,l,o,c=n.direction,f=s()(t,(o={},(0,i.Z)(o,"".concat(t,"-sm"),"small"===j),(0,i.Z)(o,"".concat(t,"-lg"),"large"===j),(0,i.Z)(o,"".concat(t,"-spinning"),k),(0,i.Z)(o,"".concat(t,"-show-text"),!!b),(0,i.Z)(o,"".concat(t,"-rtl"),"rtl"===c),o),p),h=(0,u.Z)(Z,["indicator","prefixCls"]),x=d.createElement("div",(0,a.Z)({},h,{style:N,className:f,"aria-live":"polite","aria-busy":k}),(r=e.indicator,l="".concat(t,"-dot"),null===r?null:(0,m.l$)(r)?(0,m.Tm)(r,{className:s()(r.props.className,l)}):(0,m.l$)(v)?(0,m.Tm)(v,{className:s()(v.props.className,l)}):d.createElement("span",{className:s()(l,"".concat(t,"-dot-spin"))},d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}),d.createElement("i",{className:"".concat(t,"-dot-item")}))),b?d.createElement("div",{className:"".concat(t,"-text")},b):null);if(void 0!==y){var w=s()("".concat(t,"-container"),(0,i.Z)({},"".concat(t,"-blur"),k));return d.createElement("div",(0,a.Z)({},h,{className:s()("".concat(t,"-nested-loading"),g)}),k&&d.createElement("div",{key:"loading"},x),d.createElement("div",{className:w,key:"container"},y))}return x})},j=function(e){var t=e.prefixCls,n=(0,d.useContext(f.E_).getPrefixCls)("spin",t),i=(0,a.Z)((0,a.Z)({},e),{spinPrefixCls:n});return d.createElement(x,(0,a.Z)({},i))};j.setDefaultIndicator=function(e){v=e},t.Z=j},93645:function(e,t,n){"use strict";n.d(t,{u:function(){return i}});var a={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function i(e){return e?a[e]:a.trunc}},59910:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(19013),i=n(13882);function r(e,t){return(0,i.Z)(2,arguments),(0,a.Z)(e).getTime()-(0,a.Z)(t).getTime()}},11699:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var a=n(59910),i=n(13882),r=n(93645);function l(e,t,n){(0,i.Z)(2,arguments);var l=(0,a.Z)(e,t)/1e3;return(0,r.u)(null==n?void 0:n.roundingMethod)(l)}},62705:function(e,t,n){var a=n(55639).Symbol;e.exports=a},44239:function(e,t,n){var a=n(62705),i=n(89607),r=n(2333),l=a?a.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?i(e):r(e)}},27561:function(e,t,n){var a=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,a(e)+1).replace(i,""):e}},31957:function(e,t,n){var a="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=a},89607:function(e,t,n){var a=n(62705),i=Object.prototype,r=i.hasOwnProperty,l=i.toString,s=a?a.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var a=!0}catch(e){}var i=l.call(e);return a&&(t?e[s]=n:delete e[s]),i}},2333:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:function(e,t,n){var a=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,r=a||i||Function("return this")();e.exports=r},67990:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:function(e,t,n){var a=n(13218),i=n(7771),r=n(14841),l=Math.max,s=Math.min;e.exports=function(e,t,n){var o,c,u,d,f,m,p=0,h=!1,v=!1,x=!0;if("function"!=typeof e)throw TypeError("Expected a function");function j(t){var n=o,a=c;return o=c=void 0,p=t,d=e.apply(a,n)}function b(e){var n=e-m,a=e-p;return void 0===m||n>=t||n<0||v&&a>=u}function g(){var e,n,a,r=i();if(b(r))return N(r);f=setTimeout(g,(e=r-m,n=r-p,a=t-e,v?s(a,u-n):a))}function N(e){return(f=void 0,x&&o)?j(e):(o=c=void 0,d)}function y(){var e,n=i(),a=b(n);if(o=arguments,c=this,m=n,a){if(void 0===f)return p=e=m,f=setTimeout(g,t),h?j(e):d;if(v)return clearTimeout(f),f=setTimeout(g,t),j(m)}return void 0===f&&(f=setTimeout(g,t)),d}return t=r(t)||0,a(n)&&(h=!!n.leading,u=(v="maxWait"in n)?l(r(n.maxWait)||0,t):u,x="trailing"in n?!!n.trailing:x),y.cancel=function(){void 0!==f&&clearTimeout(f),p=0,o=m=c=f=void 0},y.flush=function(){return void 0===f?d:N(i())},y}},13218:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,t,n){var a=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==a(e)}},7771:function(e,t,n){var a=n(55639);e.exports=function(){return a.Date.now()}},14841:function(e,t,n){var a=n(27561),i=n(13218),r=n(33448),l=0/0,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return l;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=a(e);var n=o.test(e);return n||c.test(e)?u(e.slice(2),n?2:8):s.test(e)?l:+e}},81009:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-social-items",function(){return n(25190)}])},97469:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var a=n(85893),i=n(67294),r=n(85818),l=n(71577),s=n(79531),o=n(54398),c=n(85402),u=n(5152),d=n.n(u),f=n(34041),m=n(24044);let p=e=>{let{iconList:t,selectedOption:n,onSelected:i}=e,r=e=>{i&&i(e)},l=""===n?null:n;return(0,a.jsxs)("div",{className:"social-dropdown-container",children:[(0,a.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,a.jsxs)("div",{className:"formfield-container",children:[(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsxs)(f.Z,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:l,value:l,onSelect:r,children:[t.map(e=>{let{platform:t,icon:n,key:i}=e;return(0,a.jsxs)(f.Z.Option,{className:"social-option",value:i,children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:n,alt:"",className:"option-icon"})}),(0,a.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(i))}),(0,a.jsx)(f.Z.Option,{className:"social-option",value:m.z_,children:"Other..."},"platform-".concat(m.z_))]})})]})]})};var h=n(81453),v=n(38631),x=n(89126),j=n(67032),b=n(91332),g=n(57520);let{Title:N}=r.Z,y=d()(()=>Promise.all([n.e(2074),n.e(8244)]).then(n.t.bind(n,18244,23)),{loadableGenerated:{webpack:()=>[18244]},ssr:!1}),Z=d()(()=>Promise.all([n.e(2074),n.e(2802)]).then(n.t.bind(n,22802,23)),{loadableGenerated:{webpack:()=>[22802]},ssr:!1}),w=d()(()=>Promise.all([n.e(2074),n.e(7949)]).then(n.t.bind(n,77949,23)),{loadableGenerated:{webpack:()=>[77949]},ssr:!1});function E(){var e,t;let[n,r]=(0,i.useState)([]),[u,d]=(0,i.useState)([]),[f,E]=(0,i.useState)(!1),[k,O]=(0,i.useState)(!1),[S,C]=(0,i.useState)(!1),[P,T]=(0,i.useState)(-1),[_,z]=(0,i.useState)(m.wC),[M,H]=(0,i.useState)(null),I=(0,i.useContext)(v.aC),{serverConfig:L,setFieldInConfigState:$}=I||{},{instanceDetails:A}=L,{socialHandles:U}=A,D=async()=>{try{let e=await (0,h.rQ)(h.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));r(t)}catch(e){console.log(e)}},G=e=>n.find(t=>t.key===e)||!1,R=""!==_.platform&&!n.find(e=>e.key===_.platform);(0,i.useEffect)(()=>{D()},[]),(0,i.useEffect)(()=>{A.socialHandles&&d(U)},[A]);let V=()=>{H(null),clearTimeout(null)},q=()=>{E(!1),T(-1),O(!1),C(!1),z({...m.wC})},F=()=>{q()},K=(e,t)=>{z({..._,[e]:t})},W=e=>{e===m.z_?(O(!0),K("platform","")):(O(!1),K("platform",e))},X=e=>{let{value:t}=e.target;K("platform",t)},Y=e=>{let{value:t}=e;K("url",t)},B=async e=>{await (0,m.Si)({apiPath:m.c9,data:{value:e},onSuccess:()=>{$({fieldName:"socialHandles",value:e,path:"instanceDetails"}),C(!1),F(),H((0,b.kg)(b.zv)),setTimeout(V,m.sI)},onError:e=>{H((0,b.kg)(b.Un,"There was an error: ".concat(e))),C(!1),setTimeout(V,m.sI)}})},Q=()=>{C(!0);let e=u.length?[...u]:[];-1===P?e.push(_):e.splice(P,1,_),B(e)},J=e=>{let t=[...u];t.splice(e,1),B(t)},ee=e=>{if(e<=0||e>=u.length)return;let t=[...u],n=t[e-1];t[e-1]=t[e],t[e]=n,B(t)},et=e=>{if(e<0||e>=u.length-1)return;let t=[...u],n=t[e+1];t[e+1]=t[e],t[e]=n,B(t)},en={disabled:(e=_.url,"xmpp"===(t=_.platform)?!(0,x.Kf)(e,"xmpp"):"matrix"===t?!(0,x.bu)(e):!(0,x.jv)(e))},ea=(0,a.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,a.jsx)("div",{className:"label-side"}),(0,a.jsx)("div",{className:"input-side",children:(0,a.jsx)(s.Z,{placeholder:"Other platform name",defaultValue:_.platform,onChange:X})})]});return(0,a.jsxs)("div",{className:"social-links-edit-container",children:[(0,a.jsx)(N,{level:3,className:"section-title",children:"Your Social Handles"}),(0,a.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,a.jsx)(g.E,{status:M}),(0,a.jsx)(o.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:n,url:i}=t,r=G(n);if(!r)return(0,a.jsx)("div",{className:"social-handle-cell",children:(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:n}),(0,a.jsx)("span",{className:"handle-url",title:i,children:i})]})});let{icon:l,platform:s}=r;return(0,a.jsxs)("div",{className:"social-handle-cell",children:[(0,a.jsx)("span",{className:"option-icon",children:(0,a.jsx)("img",{src:l,alt:"",className:"option-icon"})}),(0,a.jsxs)("p",{className:"option-label",children:[(0,a.jsx)("strong",{children:s}),(0,a.jsx)("span",{className:"handle-url",title:i,children:i})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,n)=>(0,a.jsxs)("div",{className:"actions",children:[(0,a.jsx)(l.Z,{size:"small",onClick:()=>{let e=u[n];T(n),z({...e}),E(!0),G(e.platform)||O(!0)},children:"Edit"}),(0,a.jsx)(l.Z,{icon:(0,a.jsx)(Z,{}),size:"small",hidden:0===n,onClick:()=>ee(n)}),(0,a.jsx)(l.Z,{icon:(0,a.jsx)(y,{}),size:"small",hidden:n===u.length-1,onClick:()=>et(n)}),(0,a.jsx)(l.Z,{className:"delete-button",icon:(0,a.jsx)(w,{}),size:"small",onClick:()=>J(n)})]})}],dataSource:u}),(0,a.jsx)(c.Z,{title:"Edit Social Handle",open:f,onOk:Q,onCancel:F,confirmLoading:S,okButtonProps:en,children:(0,a.jsxs)("div",{className:"social-handle-modal-content",children:[(0,a.jsx)(p,{iconList:n,selectedOption:R?m.z_:_.platform,onSelected:W}),k&&ea,(0,a.jsx)("br",{}),(0,a.jsx)(j.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[_.platform]||"Url to page",value:_.url,onChange:Y,useTrim:!0,type:"url",pattern:x.ax}),(0,a.jsx)(g.E,{status:M})]})}),(0,a.jsx)("br",{}),(0,a.jsx)(l.Z,{type:"primary",onClick:()=>{q(),E(!0)},children:"Add a new social link"})]})}},25190:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var a=n(85893);n(67294);var i=n(85818),r=n(97469),l=n(34261);let{Title:s}=i.Z;function o(){return(0,a.jsxs)("div",{className:"config-social-items",children:[(0,a.jsx)(s,{children:"Social Items"}),(0,a.jsx)(r.Z,{})]})}o.getLayout=function(e){return(0,a.jsx)(l.l,{page:e})}},9008:function(e,t,n){e.exports=n(42636)},11163:function(e,t,n){e.exports=n(96885)}},function(e){e.O(0,[173,5874,2744,7941,4931,5402,5818,1664,7793,8980,4041,3698,3013,4398,8035,4261,9774,2888,179],function(){return e(e.s=81009)}),_N_E=e.O()}]);