(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{13882:function(e,n,t){"use strict";function a(e,n){if(n.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+n.length+" present")}t.d(n,{Z:function(){return a}})},93645:function(e,n,t){"use strict";t.d(n,{u:function(){return s}});var a={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function s(e){return e?a[e]:a.trunc}},59910:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(19013),s=t(13882);function l(e,n){return(0,s.Z)(2,arguments),(0,a.Z)(e).getTime()-(0,a.Z)(n).getTime()}},11699:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var a=t(59910),s=t(13882),l=t(93645);function r(e,n,t){(0,s.Z)(2,arguments);var r=(0,a.Z)(e,n)/1e3;return(0,l.u)(null==t?void 0:t.roundingMethod)(r)}},19013:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var a=t(71002),s=t(13882);function l(e){(0,s.Z)(1,arguments);var n=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===n?new Date(e.getTime()):"number"==typeof e||"[object Number]"===n?new Date(e):(("string"==typeof e||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},42011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return t(7343)}])},20284:function(e,n,t){"use strict";t.d(n,{Q:function(){return u},Y:function(){return d}});var a=t(85893),s=t(67294),l=t(47271),r=t(14845),c=t(62376),i=t(65326);let{Title:o}=l.default,u="#5a67d8",d=e=>{let{title:n,description:t,placeholder:l,maxLength:d,values:f,handleDeleteIndex:h,handleCreateString:m,submitStatus:g,continuousStatusMessage:p}=e,[b,v]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(o,{level:3,className:"section-title",children:n}),(0,a.jsx)("p",{className:"description",children:t}),(0,a.jsx)("div",{className:"edit-current-strings",children:null==f?void 0:f.map((e,n)=>(0,a.jsx)(r.Z,{closable:!0,onClose:()=>{h(n)},color:u,children:e},"tag-".concat(e,"-").concat(n)))}),p&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(i.E,{status:p})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(c.nv,{fieldName:"string-input",value:b,onChange:e=>{let{value:n}=e;v(n)},onPressEnter:()=>{m(b.trim()),v("")},maxLength:d,placeholder:l,status:g})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},86088:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var a=t(85893),s=t(67294),l=t(38376),r=t(70329),c=t(65326),i=t(53068),o=t(84443);let u=e=>{let{apiPath:n,checked:t,reversed:u=!1,configPath:d="",disabled:f=!1,fieldName:h,label:m,tip:g,useSubmit:p,onChange:b}=e,[v,x]=(0,s.useState)(null),C=null,{setFieldInConfigState:N}=(0,s.useContext)(o.a)||{},j=()=>{x(null),clearTimeout(C),C=null},k=async e=>{if(p){x((0,r.kg)(r.Jk));let t=u?!e:e;await (0,i.Si)({apiPath:n,data:{value:t},onSuccess:()=>{N({fieldName:h,value:t,path:d}),x((0,r.kg)(r.zv))},onError:e=>{x((0,r.kg)(r.Un,"There was an error: ".concat(e)))}}),C=setTimeout(j,i.sI)}b&&b(e)},Z=null!==v&&v.type===r.Jk;return(0,a.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[m&&(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:m})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)(l.Z,{className:"switch field-".concat(h),loading:Z,onChange:k,defaultChecked:t,checked:t,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:f}),(0,a.jsx)(c.E,{status:v})]}),(0,a.jsx)("p",{className:"field-tip",children:g})]})]})};u.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},49947:function(e,n,t){"use strict";var a=t(82215),s=t(63085),l=a.ZP;l.Header=a.h4,l.Footer=a.$_,l.Content=a.VY,l.Sider=s.Z,l._InternalSiderContext=s.D,n.default=l},38376:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var a=t(87462),s=t(4942),l=t(38813),r=t(93967),c=t.n(r),i=t(97685),o=t(45987),u=t(67294),d=t(21640),f=t(79097),h=u.forwardRef(function(e,n){var t,a=e.prefixCls,l=void 0===a?"rc-switch":a,r=e.className,h=e.checked,m=e.defaultChecked,g=e.disabled,p=e.loadingIcon,b=e.checkedChildren,v=e.unCheckedChildren,x=e.onClick,C=e.onChange,N=e.onKeyDown,j=(0,o.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,d.Z)(!1,{value:h,defaultValue:m}),Z=(0,i.Z)(k,2),y=Z[0],E=Z[1];function w(e,n){var t=y;return g||(E(t=e),null==C||C(t,n)),t}var S=c()(l,r,(t={},(0,s.Z)(t,"".concat(l,"-checked"),y),(0,s.Z)(t,"".concat(l,"-disabled"),g),t));return u.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":y,disabled:g,className:S,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?w(!1,e):e.which===f.Z.RIGHT&&w(!0,e),null==N||N(e)},onClick:function(e){var n=w(!y,e);null==x||x(n,e)}}),p,u.createElement("span",{className:"".concat(l,"-inner")},y?b:v))});h.displayName="Switch";var m=t(71946),g=t(6089),p=t(41395),b=t(40823),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},x=u.forwardRef(function(e,n){var t=e.prefixCls,r=e.size,i=e.disabled,o=e.loading,d=e.className,f=v(e,["prefixCls","size","disabled","loading","className"]),x=u.useContext(m.E_),C=x.getPrefixCls,N=x.direction,j=u.useContext(p.Z),k=u.useContext(g.Z),Z=(null!=i?i:k)||o,y=C("switch",t),E=u.createElement("div",{className:"".concat(y,"-handle")},o&&u.createElement(l.Z,{className:"".concat(y,"-loading-icon")})),w=c()((0,s.Z)((0,s.Z)((0,s.Z)({},"".concat(y,"-small"),"small"===(r||j)),"".concat(y,"-loading"),o),"".concat(y,"-rtl"),"rtl"===N),void 0===d?"":d);return u.createElement(b.Z,{insertExtraNode:!0},u.createElement(h,(0,a.Z)({},f,{prefixCls:y,className:w,disabled:Z,ref:n,loadingIcon:E})))});x.__ANT_SWITCH=!0;var C=x},14845:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var a=t(4942),s=t(87462),l=t(97685),r=t(96494),c=t(93967),i=t.n(c),o=t(55548),u=t(67294),d=t(71946),f=t(5505),h=t(40823),m=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},g=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},p=new RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(f.E.join("|"),")$")),v=u.forwardRef(function(e,n){var t=e.prefixCls,c=e.className,f=e.style,m=e.children,v=e.icon,x=e.color,C=e.onClose,N=e.closeIcon,j=e.closable,k=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Z=u.useContext(d.E_),y=Z.getPrefixCls,E=Z.direction,w=u.useState(!0),S=(0,l.Z)(w,2),O=S[0],P=S[1];u.useEffect(function(){"visible"in k&&P(k.visible)},[k.visible]);var U=function(){return!!x&&(p.test(x)||b.test(x))},_=(0,s.Z)({backgroundColor:x&&!U()?x:void 0},f),I=U(),T=y("tag",t),D=i()(T,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},"".concat(T,"-").concat(x),I),"".concat(T,"-has-color"),x&&!I),"".concat(T,"-hidden"),!O),"".concat(T,"-rtl"),"rtl"===E),c),M=function(e){e.stopPropagation(),null==C||C(e),!e.defaultPrevented&&("visible"in k||P(!1))},A="onClick"in k||m&&"a"===m.type,J=(0,o.Z)(k,["visible"]),R=v||null,z=R?u.createElement(u.Fragment,null,R,u.createElement("span",null,m)):m,F=u.createElement("span",(0,s.Z)({},J,{ref:n,className:D,style:_}),z,void 0!==j&&j?N?u.createElement("span",{className:"".concat(T,"-close-icon"),onClick:M},N):u.createElement(r.Z,{className:"".concat(T,"-close-icon"),onClick:M}):null);return A?u.createElement(h.Z,null,F):F});v.CheckableTag=function(e){var n=e.prefixCls,t=e.className,l=e.checked,r=e.onChange,c=e.onClick,o=m(e,["prefixCls","className","checked","onChange","onClick"]),f=(0,u.useContext(d.E_).getPrefixCls)("tag",n),h=i()(f,(0,a.Z)((0,a.Z)({},"".concat(f,"-checkable"),!0),"".concat(f,"-checkable-checked"),l),t);return u.createElement("span",(0,s.Z)({},o,{className:h,onClick:function(e){null==r||r(!l),null==c||c(e)}}))};var x=v},7343:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var a=t(85893),s=t(47271),l=t(67294),r=t(62376),c=t(55926),i=t(86088),o=t(20284),u=t(70329),d=t(53068),f=t(84443),h=t(695);function m(){var e;let{Title:n}=s.default,[t,h]=(0,l.useState)(null),[m,g]=(0,l.useState)(null),[p,b]=(0,l.useState)(null),{serverConfig:v,setFieldInConfigState:x}=(0,l.useContext)(f.a)||{},{chatDisabled:C,chatJoinMessagesEnabled:N,forbiddenUsernames:j,instanceDetails:k,suggestedUsernames:Z,chatEstablishedUserMode:y}=v,{welcomeMessage:E}=k,w=e=>{let{fieldName:n,value:a}=e;h({...t,[n]:a})};function S(){g(null)}function O(){(0,d.Si)({apiPath:d.CJ,data:{value:t.forbiddenUsernames},onSuccess:()=>{x({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),g((0,u.kg)(u.zv)),setTimeout(S,d.sI)},onError:e=>{g((0,u.kg)(u.Un,e)),setTimeout(S,d.sI)}})}function P(){b(null)}function U(){(0,d.Si)({apiPath:d.cf,data:{value:t.suggestedUsernames},onSuccess:()=>{x({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),b((0,u.kg)(u.zv)),setTimeout(P,d.sI)},onError:e=>{g((0,u.kg)(u.Un,e)),setTimeout(P,d.sI)}})}return((0,l.useEffect)(()=>{h({chatDisabled:C,chatJoinMessagesEnabled:N,forbiddenUsernames:j,suggestedUsernames:Z,welcomeMessage:E,chatEstablishedUserMode:y})},[v]),t)?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(n,{children:"Chat Settings"}),(0,a.jsxs)("div",{className:"form-module config-server-details-container",children:[(0,a.jsx)(i.Z,{fieldName:"chatDisabled",...d.yj,checked:!t.chatDisabled,reversed:!0,onChange:function(e){w({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(i.Z,{fieldName:"chatJoinMessagesEnabled",...d.kB,checked:t.chatJoinMessagesEnabled,onChange:function(e){w({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(i.Z,{fieldName:"chatEstablishedUserMode",...d.dj,checked:t.chatEstablishedUserMode,onChange:function(e){w({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(c.$7,{fieldName:"welcomeMessage",...d.IX,type:r.Sk,value:t.welcomeMessage,initialValue:E,onChange:w}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Y,{title:d.Dg.label,placeholder:d.Dg.placeholder,description:d.Dg.tip,values:t.forbiddenUsernames,handleDeleteIndex:function(e){t.forbiddenUsernames.splice(e,1),O()},handleCreateString:function(e){t.forbiddenUsernames.push(e),w({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),O()},submitStatus:m}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(o.Y,{title:d.AN.label,placeholder:d.AN.placeholder,description:d.AN.tip,values:t.suggestedUsernames,handleDeleteIndex:function(e){t.suggestedUsernames.splice(e,1),U()},handleCreateString:function(e){t.suggestedUsernames.push(e),w({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),U()},submitStatus:p,continuousStatusMessage:0===(e=t.suggestedUsernames.length)?(0,u.kg)("success",d.AN.no_entries):e>0&&e<10?(0,u.kg)("warning",d.AN.min_not_reached):null})]})]}):null}m.getLayout=function(e){return(0,a.jsx)(h.l,{page:e})}},11163:function(e,n,t){e.exports=t(73035)}},function(e){e.O(0,[6410,8768,947,7406,4716,2862,7271,9083,811,695,2888,9774,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);