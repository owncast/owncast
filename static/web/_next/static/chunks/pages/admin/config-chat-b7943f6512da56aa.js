(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{97183:function(e,n,t){"use strict";var s=t(2897),a=t(7293),c=s.ZP;c.Header=s.h4,c.Footer=s.$_,c.Content=s.VY,c.Sider=a.Z,n.Z=c},94594:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var s=t(87462),a=t(4942),c=t(50888),r=t(94184),l=t.n(r),i=t(97685),o=t(45987),u=t(67294),d=t(21770),f=t(15105),h=u.forwardRef(function(e,n){var t,s=e.prefixCls,c=void 0===s?"rc-switch":s,r=e.className,h=e.checked,m=e.defaultChecked,p=e.disabled,g=e.loadingIcon,b=e.checkedChildren,v=e.unCheckedChildren,C=e.onClick,x=e.onChange,N=e.onKeyDown,y=(0,o.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,d.Z)(!1,{value:h,defaultValue:m}),j=(0,i.Z)(k,2),Z=j[0],E=j[1];function O(e,n){var t=Z;return p||(E(t=e),null==x||x(t,n)),t}var w=l()(c,r,(t={},(0,a.Z)(t,"".concat(c,"-checked"),Z),(0,a.Z)(t,"".concat(c,"-disabled"),p),t));return u.createElement("button",Object.assign({},y,{type:"button",role:"switch","aria-checked":Z,disabled:p,className:w,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?O(!1,e):e.which===f.Z.RIGHT&&O(!0,e),null==N||N(e)},onClick:function(e){var n=O(!Z,e);null==C||C(n,e)}}),g,u.createElement("span",{className:"".concat(c,"-inner")},Z?b:v))});h.displayName="Switch";var m=t(53124),p=t(98866),g=t(97647),b=t(68349),v=function(e,n){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>n.indexOf(s)&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>n.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]]);return t},C=u.forwardRef(function(e,n){var t,r=e.prefixCls,i=e.size,o=e.disabled,d=e.loading,f=e.className,C=v(e,["prefixCls","size","disabled","loading","className"]),x=u.useContext(m.E_),N=x.getPrefixCls,y=x.direction,k=u.useContext(g.Z),j=u.useContext(p.Z),Z=N("switch",r),E=u.createElement("div",{className:"".concat(Z,"-handle")},d&&u.createElement(c.Z,{className:"".concat(Z,"-loading-icon")})),O=l()((t={},(0,a.Z)(t,"".concat(Z,"-small"),"small"===(i||k)),(0,a.Z)(t,"".concat(Z,"-loading"),d),(0,a.Z)(t,"".concat(Z,"-rtl"),"rtl"===y),t),void 0===f?"":f);return u.createElement(b.Z,{insertExtraNode:!0},u.createElement(h,(0,s.Z)({},C,{prefixCls:Z,className:O,disabled:(null!=o?o:j)||d,ref:n,loadingIcon:E})))});C.__ANT_SWITCH=!0;var x=C},20550:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var s=t(4942),a=t(87462),c=t(97685),r=t(97937),l=t(94184),i=t.n(l),o=t(98423),u=t(67294),d=t(53124),f=t(98787),h=t(68349),m=function(e,n){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>n.indexOf(s)&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>n.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]]);return t},p=function(e,n){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&0>n.indexOf(s)&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)0>n.indexOf(s[a])&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(t[s[a]]=e[s[a]]);return t},g=RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),b=RegExp("^(".concat(f.E.join("|"),")$")),v=u.forwardRef(function(e,n){var t,l=e.prefixCls,f=e.className,m=e.style,v=e.children,C=e.icon,x=e.color,N=e.onClose,y=e.closeIcon,k=e.closable,j=p(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Z=u.useContext(d.E_),E=Z.getPrefixCls,O=Z.direction,w=u.useState(!0),S=(0,c.Z)(w,2),_=S[0],P=S[1];u.useEffect(function(){"visible"in j&&P(j.visible)},[j.visible]);var T=function(){return!!x&&(g.test(x)||b.test(x))},U=(0,a.Z)({backgroundColor:x&&!T()?x:void 0},m),I=T(),M=E("tag",l),D=i()(M,(t={},(0,s.Z)(t,"".concat(M,"-").concat(x),I),(0,s.Z)(t,"".concat(M,"-has-color"),x&&!I),(0,s.Z)(t,"".concat(M,"-hidden"),!_),(0,s.Z)(t,"".concat(M,"-rtl"),"rtl"===O),t),f),R=function(e){e.stopPropagation(),null==N||N(e),!e.defaultPrevented&&("visible"in j||P(!1))},A="onClick"in j||v&&"a"===v.type,F=(0,o.Z)(j,["visible"]),J=C||null,L=J?u.createElement(u.Fragment,null,J,u.createElement("span",null,v)):v,Y=u.createElement("span",(0,a.Z)({},F,{ref:n,className:D,style:U}),L,void 0!==k&&k?y?u.createElement("span",{className:"".concat(M,"-close-icon"),onClick:R},y):u.createElement(r.Z,{className:"".concat(M,"-close-icon"),onClick:R}):null);return A?u.createElement(h.Z,null,Y):Y});v.CheckableTag=function(e){var n,t=e.prefixCls,c=e.className,r=e.checked,l=e.onChange,o=e.onClick,f=m(e,["prefixCls","className","checked","onChange","onClick"]),h=(0,u.useContext(d.E_).getPrefixCls)("tag",t),p=i()(h,(n={},(0,s.Z)(n,"".concat(h,"-checkable"),!0),(0,s.Z)(n,"".concat(h,"-checkable-checked"),r),n),c);return u.createElement("span",(0,a.Z)({},f,{className:p,onClick:function(e){null==l||l(!r),null==o||o(e)}}))};var C=v},93645:function(e,n,t){"use strict";t.d(n,{u:function(){return a}});var s={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function a(e){return e?s[e]:s.trunc}},59910:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var s=t(19013),a=t(13882);function c(e,n){return(0,a.Z)(2,arguments),(0,s.Z)(e).getTime()-(0,s.Z)(n).getTime()}},11699:function(e,n,t){"use strict";t.d(n,{Z:function(){return r}});var s=t(59910),a=t(13882),c=t(93645);function r(e,n,t){(0,a.Z)(2,arguments);var r=(0,s.Z)(e,n)/1e3;return(0,c.u)(null==t?void 0:t.roundingMethod)(r)}},42011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return t(91616)}])},48186:function(e,n,t){"use strict";t.d(n,{Q:function(){return u},Y:function(){return d}});var s=t(85893),a=t(67294),c=t(85818),r=t(20550),l=t(79139),i=t(73615);let{Title:o}=c.Z,u="#5a67d8",d=e=>{let{title:n,description:t,placeholder:c,maxLength:d,values:f,handleDeleteIndex:h,handleCreateString:m,submitStatus:p,continuousStatusMessage:g}=e,[b,v]=(0,a.useState)(""),C=e=>{let{value:n}=e;v(n)},x=()=>{let e=b.trim();m(e),v("")};return(0,s.jsxs)("div",{className:"edit-string-array-container",children:[(0,s.jsx)(o,{level:3,className:"section-title",children:n}),(0,s.jsx)("p",{className:"description",children:t}),(0,s.jsx)("div",{className:"edit-current-strings",children:null==f?void 0:f.map((e,n)=>{let t=()=>{h(n)};return(0,s.jsx)(r.Z,{closable:!0,onClose:t,color:u,children:e},"tag-".concat(e,"-").concat(n))})}),g&&(0,s.jsx)("div",{className:"continuous-status-section",children:(0,s.jsx)(i.E,{status:g})}),(0,s.jsx)("div",{className:"add-new-string-section",children:(0,s.jsx)(l.nv,{fieldName:"string-input",value:b,onChange:C,onPressEnter:x,maxLength:d,placeholder:c,status:p})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},6979:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var s=t(85893),a=t(67294),c=t(94594),r=t(41983),l=t(73615),i=t(90745),o=t(99519);let u=e=>{let{apiPath:n,checked:t,reversed:u=!1,configPath:d="",disabled:f=!1,fieldName:h,label:m,tip:p,useSubmit:g,onChange:b}=e,[v,C]=(0,a.useState)(null),x=null,N=(0,a.useContext)(o.aC),{setFieldInConfigState:y}=N||{},k=()=>{C(null),clearTimeout(x),x=null},j=async e=>{if(g){C((0,r.kg)(r.Jk));let t=u?!e:e;await (0,i.Si)({apiPath:n,data:{value:t},onSuccess:()=>{y({fieldName:h,value:t,path:d}),C((0,r.kg)(r.zv))},onError:e=>{C((0,r.kg)(r.Un,"There was an error: ".concat(e)))}}),x=setTimeout(k,i.sI)}b&&b(e)},Z=null!==v&&v.type===r.Jk;return(0,s.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[m&&(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:m})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)(c.Z,{className:"switch field-".concat(h),loading:Z,onChange:j,defaultChecked:t,checked:t,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:f}),(0,s.jsx)(l.E,{status:v})]}),(0,s.jsx)("p",{className:"field-tip",children:p})]})]})};u.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},91616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var s=t(85893),a=t(85818),c=t(67294),r=t(79139),l=t(46551),i=t(6979),o=t(48186),u=t(41983),d=t(90745),f=t(99519),h=t(6960);function m(){var e;let{Title:n}=a.Z,[t,h]=(0,c.useState)(null),[m,p]=(0,c.useState)(null),[g,b]=(0,c.useState)(null),v=(0,c.useContext)(f.aC),{serverConfig:C,setFieldInConfigState:x}=v||{},{chatDisabled:N,chatJoinMessagesEnabled:y,forbiddenUsernames:k,instanceDetails:j,suggestedUsernames:Z,chatEstablishedUserMode:E}=C,{welcomeMessage:O}=j,w=e=>{let{fieldName:n,value:s}=e;h({...t,[n]:s})};function S(){p(null)}function _(){(0,d.Si)({apiPath:d.CJ,data:{value:t.forbiddenUsernames},onSuccess:()=>{x({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),p((0,u.kg)(u.zv)),setTimeout(S,d.sI)},onError:e=>{p((0,u.kg)(u.Un,e)),setTimeout(S,d.sI)}})}function P(){b(null)}function T(){(0,d.Si)({apiPath:d.cf,data:{value:t.suggestedUsernames},onSuccess:()=>{x({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),b((0,u.kg)(u.zv)),setTimeout(P,d.sI)},onError:e=>{p((0,u.kg)(u.Un,e)),setTimeout(P,d.sI)}})}return((0,c.useEffect)(()=>{h({chatDisabled:N,chatJoinMessagesEnabled:y,forbiddenUsernames:k,suggestedUsernames:Z,welcomeMessage:O,chatEstablishedUserMode:E})},[C]),t)?(0,s.jsxs)("div",{className:"config-server-details-form",children:[(0,s.jsx)(n,{children:"Chat Settings"}),(0,s.jsxs)("div",{className:"form-module config-server-details-container",children:[(0,s.jsx)(i.Z,{fieldName:"chatDisabled",...d.yj,checked:!t.chatDisabled,reversed:!0,onChange:function(e){w({fieldName:"chatDisabled",value:!e})}}),(0,s.jsx)(i.Z,{fieldName:"chatJoinMessagesEnabled",...d.kB,checked:t.chatJoinMessagesEnabled,onChange:function(e){w({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,s.jsx)(i.Z,{fieldName:"establishedUserMode",...d.dj,checked:t.chatEstablishedUserMode,onChange:function(e){w({fieldName:"chatEstablishedUserMode",value:e})}}),(0,s.jsx)(l.$7,{fieldName:"welcomeMessage",...d.IX,type:r.Sk,value:t.welcomeMessage,initialValue:O,onChange:w}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Y,{title:d.Dg.label,placeholder:d.Dg.placeholder,description:d.Dg.tip,values:t.forbiddenUsernames,handleDeleteIndex:function(e){t.forbiddenUsernames.splice(e,1),_()},handleCreateString:function(e){t.forbiddenUsernames.push(e),w({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),_()},submitStatus:m}),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Y,{title:d.AN.label,placeholder:d.AN.placeholder,description:d.AN.tip,values:t.suggestedUsernames,handleDeleteIndex:function(e){t.suggestedUsernames.splice(e,1),T()},handleCreateString:function(e){t.suggestedUsernames.push(e),w({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),T()},submitStatus:g,continuousStatusMessage:0===(e=t.suggestedUsernames.length)?(0,u.kg)("success",d.AN.no_entries):e>0&&e<10?(0,u.kg)("warning",d.AN.min_not_reached):null})]})]}):null}m.getLayout=function(e){return(0,s.jsx)(h.l,{page:e})}},9008:function(e,n,t){e.exports=t(83121)},11163:function(e,n,t){e.exports=t(80880)},92703:function(e,n,t){"use strict";var s=t(50414);function a(){}function c(){}c.resetWarningCache=a,e.exports=function(){function e(e,n,t,a,c,r){if(r!==s){var l=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:c,resetWarningCache:a};return t.PropTypes=t,t}},45697:function(e,n,t){e.exports=t(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},function(e){e.O(0,[173,164,2138,31,4931,5402,2231,492,5818,7524,9915,710,6960,9774,2888,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);
//# sourceMappingURL=config-chat-b7943f6512da56aa.js.map