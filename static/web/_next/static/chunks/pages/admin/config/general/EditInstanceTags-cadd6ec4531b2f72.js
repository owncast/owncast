(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4687],{63606:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(1413),c=n(67294),l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},s=n(42135),r=function(e,t){return c.createElement(s.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:l}))};r.displayName="CheckOutlined";var o=c.forwardRef(r)},20550:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(4942),c=n(87462),l=n(97685),s=n(97937),r=n(94184),o=n.n(r),i=n(98423),u=n(67294),d=n(53124),f=n(98787),m=n(68349),p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)0>t.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]]);return n},g=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var c=0,a=Object.getOwnPropertySymbols(e);c<a.length;c++)0>t.indexOf(a[c])&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(n[a[c]]=e[a[c]]);return n},h=RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),v=RegExp("^(".concat(f.E.join("|"),")$")),x=u.forwardRef(function(e,t){var n,r=e.prefixCls,f=e.className,p=e.style,x=e.children,b=e.icon,C=e.color,y=e.onClose,N=e.closeIcon,E=e.closable,j=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),k=u.useContext(d.E_),w=k.getPrefixCls,O=k.direction,Z=u.useState(!0),P=(0,l.Z)(Z,2),_=P[0],S=P[1];u.useEffect(function(){"visible"in j&&S(j.visible)},[j.visible]);var T=function(){return!!C&&(h.test(C)||v.test(C))},I=(0,c.Z)({backgroundColor:C&&!T()?C:void 0},p),L=T(),R=w("tag",r),z=o()(R,(n={},(0,a.Z)(n,"".concat(R,"-").concat(C),L),(0,a.Z)(n,"".concat(R,"-has-color"),C&&!L),(0,a.Z)(n,"".concat(R,"-hidden"),!_),(0,a.Z)(n,"".concat(R,"-rtl"),"rtl"===O),n),f),G=function(e){e.stopPropagation(),null==y||y(e),!e.defaultPrevented&&("visible"in j||S(!1))},M="onClick"in j||x&&"a"===x.type,Q=(0,i.Z)(j,["visible"]),X=b||null,Y=X?u.createElement(u.Fragment,null,X,u.createElement("span",null,x)):x,$=u.createElement("span",(0,c.Z)({},Q,{ref:t,className:z,style:I}),Y,void 0!==E&&E?N?u.createElement("span",{className:"".concat(R,"-close-icon"),onClick:G},N):u.createElement(s.Z,{className:"".concat(R,"-close-icon"),onClick:G}):null);return M?u.createElement(m.Z,null,$):$});x.CheckableTag=function(e){var t,n=e.prefixCls,l=e.className,s=e.checked,r=e.onChange,i=e.onClick,f=p(e,["prefixCls","className","checked","onChange","onClick"]),m=(0,u.useContext(d.E_).getPrefixCls)("tag",n),g=o()(m,(t={},(0,a.Z)(t,"".concat(m,"-checkable"),!0),(0,a.Z)(t,"".concat(m,"-checkable-checked"),s),t),l);return u.createElement("span",(0,c.Z)({},f,{className:g,onClick:function(e){null==r||r(!s),null==i||i(e)}}))};var b=x},5199:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general/EditInstanceTags",function(){return n(99683)}])},80894:function(e,t,n){"use strict";n.d(t,{Q:function(){return u},Y:function(){return d}});var a=n(85893),c=n(67294),l=n(84485),s=n(20550),r=n(40117),o=n(39664);let{Title:i}=l.Z,u="#5a67d8",d=e=>{let{title:t,description:n,placeholder:l,maxLength:d,values:f,handleDeleteIndex:m,handleCreateString:p,submitStatus:g,continuousStatusMessage:h}=e,[v,x]=(0,c.useState)(""),b=e=>{let{value:t}=e;x(t)},C=()=>{let e=v.trim();p(e),x("")};return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(i,{level:3,className:"section-title",children:t}),(0,a.jsx)("p",{className:"description",children:n}),(0,a.jsx)("div",{className:"edit-current-strings",children:null==f?void 0:f.map((e,t)=>{let n=()=>{m(t)};return(0,a.jsx)(s.Z,{closable:!0,onClose:n,color:u,children:e},"tag-".concat(e,"-").concat(t))})}),h&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(o.E,{status:h})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(r.nv,{fieldName:"string-input",value:v,onChange:b,onPressEnter:C,maxLength:d,placeholder:l,status:g})})]})};d.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},99683:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var a=n(85893),c=n(67294),l=n(84485),s=n(20550),r=n(99519),o=n(90745),i=n(40117),u=n(41983),d=n(80894);let{Title:f}=l.Z;function m(){let[e,t]=(0,c.useState)(""),[n,l]=(0,c.useState)(null),m=(0,c.useContext)(r.aC),{serverConfig:p,setFieldInConfigState:g}=m||{},{instanceDetails:h}=p,{tags:v=[]}=h,{apiPath:x,maxLength:b,placeholder:C,configPath:y}=o.y_,N=null;(0,c.useEffect)(()=>()=>{clearTimeout(N)},[]);let E=()=>{l(null),clearTimeout(N=null)},j=async e=>{l((0,u.kg)(u.Jk)),await (0,o.Si)({apiPath:x,data:{value:e},onSuccess:()=>{g({fieldName:"tags",value:e,path:y}),l((0,u.kg)(u.zv,"Tags updated.")),t(""),N=setTimeout(E,o.sI)},onError:e=>{l((0,u.kg)(u.Un,e)),N=setTimeout(E,o.sI)}})},k=e=>{let{value:a}=e;n||l(null),t(a)},w=()=>{E();let t=e.trim();if(""===t){l((0,u.kg)(u.dG,"Please enter a tag"));return}if(v.some(e=>e.toLowerCase()===t.toLowerCase())){l((0,u.kg)(u.dG,"This tag is already used!"));return}let n=[...v,t];j(n)},O=e=>{E();let t=[...v];t.splice(e,1),j(t)};return(0,a.jsxs)("div",{className:"tag-editor-container",children:[(0,a.jsx)(f,{level:3,className:"section-title",children:"Add Tags"}),(0,a.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,a.jsx)("div",{className:"edit-current-strings",children:v.map((e,t)=>{let n=()=>{O(t)};return(0,a.jsx)(s.Z,{closable:!0,onClose:n,color:d.Q,children:e},"tag-".concat(e,"-").concat(t))})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(i.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:k,onPressEnter:w,maxLength:b,placeholder:C,status:n})})]})}}},function(e){e.O(0,[4485,9774,2888,179],function(){return e(e.s=5199)}),_N_E=e.O()}]);
//# sourceMappingURL=EditInstanceTags-cadd6ec4531b2f72.js.map